<!DOCTYPE html>

<html lang="en">

<head>

  <meta charset="UTF-8" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Pronunciation Checker – Phase 2</title>

  <style>

    body {

      font-family: Arial, sans-serif;

      background: #f4f6f8;

      padding: 30px;

    }

    .app {

      max-width: 700px;

      margin: auto;

      background: #fff;

      padding: 25px;

      border-radius: 12px;

      box-shadow: 0 10px 30px rgba(0,0,0,0.1);

    }

    h1 {

      text-align: center;

    }

    textarea {

      width: 100%;

      padding: 12px;

      font-size: 16px;

      margin-top: 10px;

    }

    button {

      padding: 12px 20px;

      font-size: 16px;

      margin-top: 15px;

      cursor: pointer;

    }

    .result {

      margin-top: 20px;

      background: #eef2ff;

      padding: 15px;

      border-radius: 8px;

    }

    .score {

      font-size: 22px;

      font-weight: bold;

      margin-top: 10px;

    }

    .good { color: green; }

    .bad { color: red; }

  </style>

</head>

<body>

  <div class="app">

    <h1>?? Pronunciation Checker</h1>

<label><strong>Target Text (paste or edit):</strong></label>

<textarea id="targetText">I am preparing for my future studies.</textarea>



<button onclick="startRecording()">?? Start Recording</button>

<button onclick="stopRecording()">? Stop</button>



<div class="result">

  <p><strong>Your Speech:</strong></p>

  <p id="speechText">-</p>

  <div class="score" id="score">Score: -</div>

<div id="feedback"></div>

</div>

  <script>

    let recognition;

    let finalTranscript = "";



    if ('webkitSpeechRecognition' in window) {

      recognition = new webkitSpeechRecognition();

      recognition.lang = 'en-US';

      recognition.continuous = false;

      recognition.interimResults = false;



      recognition.onresult = function(event) {

        finalTranscript = event.results[0][0].transcript;

        document.getElementById('speechText').innerText = finalTranscript;

        evaluatePronunciation();

      };



      recognition.onerror = function(e) {

        alert('Speech recognition error');

      };

    } else {

      alert('Speech Recognition not supported');

    }



    function startRecording() {

      finalTranscript = "";

      recognition.start();

    }



    function stopRecording() {

      recognition.stop();

    }



    function evaluatePronunciation() {

      const target = document.getElementById('targetText').value.toLowerCase();

      const spoken = finalTranscript.toLowerCase();



      const targetWords = target.split(' ');

      const spokenWords = spoken.split(' ');



      let match = 0;

      targetWords.forEach(word => {

        if (spokenWords.includes(word)) match++;

      });



      const score = Math.round((match / targetWords.length) * 100);

      document.getElementById('score').innerText = `Score: ${score}%`;



      let feedback = "";

      if (score > 80) feedback = "<p class='good'>Excellent pronunciation!</p>";

      else if (score > 50) feedback = "<p>Good, but some words need clarity.</p>";

      else feedback = "<p class='bad'>Try again. Focus on each word clearly.</p>";



    document.getElementById('feedback').innerHTML = feedback;

    }

  </script>

</body>

</html>

