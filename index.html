<!DOCTYPE html>

<html lang="en">

<head>

  <meta charset="UTF-8" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>AI Pronunciation Checker</title>

  <style>

    body {

      font-family: Arial, sans-serif;

      background: #f4f6fb;

      display: flex;

      justify-content: center;

      align-items: center;

      min-height: 100vh;

    }

    .card {

      background: #fff;

      width: 420px;

      padding: 24px;

      border-radius: 12px;

      box-shadow: 0 10px 25px rgba(0,0,0,0.1);

    }

    h2 { text-align: center; }

    textarea {

      width: 100%;

      height: 80px;

      margin-top: 10px;

      padding: 10px;

      border-radius: 8px;

      border: 1px solid #ccc;

      resize: none;

    }

    button {

      width: 100%;

      padding: 12px;

      margin-top: 12px;

      border: none;

      border-radius: 8px;

      font-size: 16px;

      cursor: pointer;

    }

    .record { background: #4f46e5; color: white; }

    .stop { background: #dc2626; color: white; display:none; }

    .result {

      margin-top: 16px;

      background: #f9fafb;

      padding: 12px;

      border-radius: 8px;

      font-size: 14px;

    }

    .score {

      font-size: 22px;

      font-weight: bold;

      text-align: center;

      margin-top: 10px;

    }

  </style>

</head>

<body>



<div class="card">

  <h2>?? Pronunciation Checker</h2>



  <label>Target Sentence</label>

  <textarea id="target" placeholder="Type the sentence here..."></textarea>



  <button class="record" id="startBtn">Start Recording</button>

  <button class="stop" id="stopBtn">Stop Recording</button>



  <div class="result" id="result">Your spoken text will appear here.</div>

  <div class="score" id="score"></div>

</div>



<script>

  const startBtn = document.getElementById('startBtn');

  const stopBtn = document.getElementById('stopBtn');

  const resultDiv = document.getElementById('result');

  const scoreDiv = document.getElementById('score');

  const targetInput = document.getElementById('target');



  const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;



  if (!SpeechRecognition) {

    alert('Speech Recognition not supported. Use Google Chrome.');

  }



  const recognition = new SpeechRecognition();

  recognition.lang = 'en-US';

  recognition.interimResults = false;



  startBtn.onclick = () => {

    recognition.start();

    startBtn.style.display = 'none';

    stopBtn.style.display = 'block';

    resultDiv.innerText = 'Listening...';

    scoreDiv.innerText = '';

  };



  stopBtn.onclick = () => {

    recognition.stop();

    stopBtn.style.display = 'none';

    startBtn.style.display = 'block';

  };



  recognition.onresult = (event) => {

    const spoken = event.results[0][0].transcript.toLowerCase();

    const target = targetInput.value.toLowerCase();



    resultDiv.innerHTML = `<strong>You said:</strong> ${spoken}`;



    let score = similarity(spoken, target);

    scoreDiv.innerText = `Score: ${score}%`;

  };



  function similarity(a, b) {

    if (!a || !b) return 0;

    let longer = a.length > b.length ? a : b;

    let shorter = a.length > b.length ? b : a;

    let same = 0;



    for (let i = 0; i < shorter.length; i++) {

      if (shorter[i] === longer[i]) same++;

    }

    return Math.round((same / longer.length) * 100);

  }

</script>



</body>

</html>